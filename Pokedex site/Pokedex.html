<!DOCTYPE html>
<html Lang="pt-br">
<head>
  <link rel="icon" href="Pok√©_Ball_icon.svg.png">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Copatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokedex</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>
      Confira a rede social do criador da Pokedex no 
      <address>
         <a href="https://www.instagram.com/caio_3475/" style="color:rgb(0, 46, 252) " target="_blank">Instagram</a>
      </address> 
      e deixe seu feedback. 
    </h1>
    <hr>
    <div class="imagem">
      <img src="Pokemon-Logo.png">
    </div>
    <form class="group-form">
      <label>Nome ou n√∫mero do Pok√©mon</label>
      <input type="text" id="name" placeholder="Exemplo: Bulbassaur ou 1" required>
      <input type="submit" value="BUSCAR">
    </form> 
    <div id="imgPokemon">
      <img src="pokemon frente definitivo.png">
      <img src="pokemon tras definitivo.png">
    </div>
    <div id="content">
      ...
    </div>
  </div>
<script>
  var formulario = document.querySelector('form')

formulario.addEventListener('submit', function(e){

// Bloqueia o refresh da p√°gina
  e.preventDefault()

  // Url dod dados dos pok√©mons
let urlform = "https://pokeapi.co/api/v2/pokemon/"

// Valor do input name
let nome = document.getElementById("name")

// Concatena a url com o input name
urlform = urlform + this.name.value

// Transforma os valores em min√∫sculo
urlform = urlform.toLocaleLowerCase()

// Id content
let resposta = document.getElementById('content')

// Id imgPokemon
let imagem = document.getElementById('imgPokemon')

// Resposta em HTML
let html = ''

fetch(urlform)
.then(resposta => resposta.json())
.then(function(data){
  console.log(data)
  html = 'Name: ' + maiuscula(data.name) + '<br>'
  html =  html + 'Type: ' + maiuscula(data.types[0].type.name)
  resposta.innerHTML = html

imagem.innerHTML = "<img src='" + data.sprites.front_default + "'><img src='" + data.sprites.back_default + "'>"

})
.catch(function(err){
  if(err = 'SyntaxError: Unexpected token N, "Not Found" is not valid JSON'){
    html = 'Pok√©mon n√£o encontrado! üò•'
  } else {
    html = err 
  }
  resposta.innerHTML = html
})

});

function maiuscula(val){
  return val[0].toLocaleUpperCase() + val.substr(1)
}
</script> 
</body>
</html>
